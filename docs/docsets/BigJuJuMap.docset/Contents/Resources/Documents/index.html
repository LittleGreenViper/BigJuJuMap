<!DOCTYPE html>
<html lang="en">
  <head>
    <title>BigJuJuMap  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="BigJuJuMap  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          BigJuJuMap Documentation
        </a>
         (100% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/LittleGreenViper/BigJuJuMap">
            <img class="header-icon" src="img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">BigJuJuMap</a>
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BigJuJuMapViewController.html">BigJuJuMapViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BigJuJuMapViewController/LocationAnnotation.html">– LocationAnnotation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BigJuJuMapViewController/AnnotationView.html">– AnnotationView</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Collection.html">Collection</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/BigJuJuMapLocationProtocol.html">BigJuJuMapLocationProtocol</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <p><img src="icon.png" alt=""></p>
<h1 id='bigjujumap' class='heading'>BigJuJuMap</h1>

<p>A Self-Contained Map With Multiple, Aggregated, Custom Markers</p>
<h2 id='overview' class='heading'>Overview</h2>

<p>This package was specifically designed to offer <a href="https://developer.apple.com/swiftui/"><code>SwiftUI</code></a> apps the opportunity to have a much more involved map experience than that provided by default.</p>

<p>It also allows a &ldquo;drop in&rdquo; high-functionality map for <a href="https://developer.apple.com/documentation/uikit/"><code>UIKit</code></a> projects.</p>

<p><a href="https://littlegreenviper.github.io/BigJuJuMap/">This is the online documentation for the library</a></p>
<h2 id='how-does-it-work' class='heading'>How Does It Work?</h2>

<p>The implementation is provided as a static <a href="https://developer.apple.com/documentation/xcode/creating-a-static-framework">framework</a>, instantiating a custom <a href="https://developer.apple.com/documentation/UIKit/UIViewController">UIViewController</a> subclass (<a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L81"><code><a href="Classes/BigJuJuMapViewController.html">BigJuJuMapViewController</a></code></a>).</p>
<h2 id='usage' class='heading'>Usage</h2>

<p>The library is designed to be installed as a <a href="https://docs.swift.org/swiftpm/documentation/packagemanagerdocs/">Swift Package Manager (SPM)</a> package. The package is available from <a href="https://github.com/LittleGreenViper/BigJuJuMap">GitHub</a>. A direct SPM URI is <code>git@github.com:LittleGreenViper/BigJuJuMap.git</code>.</p>

<p>Add the package to your project, and include it into your target.</p>

<p>Whenever you use it, you will need to import it, thusly:</p>
<pre class="highlight plaintext"><code>import BigJuJuMap
</code></pre>

<p>You use it by instantiating <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L81"><code><a href="Classes/BigJuJuMapViewController.html">BigJuJuMapViewController</a></code></a>, and providing it with a dataset (the dataset must conform to the <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L1402"><code><a href="Protocols/BigJuJuMapLocationProtocol.html">BigJuJuMapLocationProtocol</a></code></a> protocol, and must be a class; not a struct).</p>

<p>You can also, optionally, provide the view controller with alternate marker graphic assets (the default is a simple map marker).</p>

<p>Additionally, you can choose to have the number of aggregated data points displayed in aggregate (multi) markers.</p>
<h3 id='examples-the-test-harness-apps' class='heading'>Examples (The Test Harness Apps)</h3>

<p>There are two test harness targets provided with the library: A <a href="https://github.com/LittleGreenViper/BigJuJuMap/tree/master/Tests/UIKitTestHarness">UIKit target</a>, and a <a href="https://github.com/LittleGreenViper/BigJuJuMap/tree/master/Tests/SwiftUITestHarness">SwiftUI target</a>. They show simple implementations of BigJuJuMap, in practice.</p>

<p>They are visually identical, presenting a single screen, filled with a map, and displaying a number of markers. At the bottom of the screen, are two segmented switches. The top switch selects which type of marker to display (default, custom simple, or custom complex), and the bottom switch selects between three different location datasets.</p>
<h4 id='markers' class='heading'>Markers</h4>

<p>The following images show the types of markers that can be selected by the app.</p>

<p>The marker selection is made by changing the top segmented switch. Changing the marker does not affect the displayed region.</p>
<h5 id='figure-1-default-markers' class='heading'>Figure 1: Default Markers</h5>

<table><thead>
<tr>
<th style="text-align: center"><img src="img/Fig-01-DefaultMarkers-Light.png" alt=""></th>
<th style="text-align: center"><img src="img/Fig-01-DefaultMarkers-Dark.png" alt=""></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><em>Light Mode</em></td>
<td style="text-align: center"><em>Dark Mode</em></td>
</tr>
</tbody></table>
<h5 id='figure-2-custom-markers-with-space-for-numbers' class='heading'>Figure 2: Custom Markers With Space for Numbers</h5>

<table><thead>
<tr>
<th style="text-align: center"><img src="img/Fig-02-CustomMarkers-1-Light.png" alt=""></th>
<th style="text-align: center"><img src="img/Fig-02-CustomMarkers-1-Dark.png" alt=""></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><em>Light Mode</em></td>
<td style="text-align: center"><em>Dark Mode</em></td>
</tr>
</tbody></table>
<h5 id='figure-3-custom-markers-with-no-numbers' class='heading'>Figure 3: Custom Markers With No Numbers</h5>

<table><thead>
<tr>
<th style="text-align: center"><img src="img/Fig-03-CustomMarkers-2-Light.png" alt=""></th>
<th style="text-align: center"><img src="img/Fig-03-CustomMarkers-2-Dark.png" alt=""></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><em>Light Mode</em></td>
<td style="text-align: center"><em>Dark Mode</em></td>
</tr>
</tbody></table>
<h4 id='datasets' class='heading'>Datasets</h4>

<p>The following images show the test datasets we use.</p>

<p>The dataset selection is made by selecting one of the values in the bottom segmented switch. The map is changed to display the new dataset.</p>
<h5 id='figure-4-state-parks-in-north-carolina' class='heading'>Figure 4: State Parks in North Carolina</h5>

<table><thead>
<tr>
<th style="text-align: center"><img src="img/Fig-04-NC-Light.png" alt=""></th>
<th style="text-align: center"><img src="img/Fig-04-NC-Dark.png" alt=""></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><em>Light Mode</em></td>
<td style="text-align: center"><em>Dark Mode</em></td>
</tr>
</tbody></table>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>Because the total area for this dataset is so large, Apple Maps limits the size of the region. If you scroll West, a bit, you&rsquo;ll see American Samoa.</p>

</div>
<h5 id='figure-5-national-parks' class='heading'>Figure 5: National Parks</h5>

<table><thead>
<tr>
<th style="text-align: center"><img src="img/Fig-05-USA-Light.png" alt=""></th>
<th style="text-align: center"><img src="img/Fig-05-USA-Dark.png" alt=""></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><em>Light Mode</em></td>
<td style="text-align: center"><em>Dark Mode</em></td>
</tr>
</tbody></table>
<h5 id='figure-6-territorial-parks-in-the-us-virgin-islands' class='heading'>Figure 6: Territorial Parks in the US Virgin Islands</h5>

<table><thead>
<tr>
<th style="text-align: center"><img src="img/Fig-06-VI-Light.png" alt=""></th>
<th style="text-align: center"><img src="img/Fig-06-VI-Dark.png" alt=""></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><em>Light Mode</em></td>
<td style="text-align: center"><em>Dark Mode</em></td>
</tr>
</tbody></table>
<h4 id='popovers' class='heading'>Popovers</h4>

<p>When we select a marker, a popover appears, above or below the marker.</p>

<p>In the case of aggregate markers, a scrolling table of values is shown.</p>
<h5 id='figure-7-example-of-a-large-aggregate-marker' class='heading'>Figure 7: Example of A Large Aggregate Marker</h5>

<table><thead>
<tr>
<th style="text-align: center"><img src="img/Fig-07-LargePopover-Light.png" alt=""></th>
<th style="text-align: center"><img src="img/Fig-07-LargePopover-Dark.png" alt=""></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><em>Light Mode</em></td>
<td style="text-align: center"><em>Dark Mode</em></td>
</tr>
</tbody></table>

<p>For a single marker, only one value is shown.</p>
<h5 id='figure-8-example-of-a-single-marker' class='heading'>Figure 8: Example of A Single Marker</h5>

<table><thead>
<tr>
<th style="text-align: center"><img src="img/Fig-08-Small-Popover-Light.png" alt=""></th>
<th style="text-align: center"><img src="img/Fig-08-Small-Popover-Dark.png" alt=""></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><em>Light Mode</em></td>
<td style="text-align: center"><em>Dark Mode</em></td>
</tr>
</tbody></table>
<h4 id='reaction-alerts' class='heading'>Reaction Alerts</h4>

<p>When we select one of the values in a popover, the popover is dismissed, and this alert is shown:</p>
<h5 id='figure-9-alert-displayed-when-selecting-a-row-in-a-popover' class='heading'>Figure 9: Alert Displayed When Selecting A Row in A Popover</h5>

<table><thead>
<tr>
<th style="text-align: center"><img src="img/Fig-09-Alert-Light.png" alt=""></th>
<th style="text-align: center"><img src="img/Fig-09-Alert-Dark.png" alt=""></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><em>Light Mode</em></td>
<td style="text-align: center"><em>Dark Mode</em></td>
</tr>
</tbody></table>
<h3 id='the-api' class='heading'>The API</h3>
<h4 id='the-view-controller' class='heading'>The View Controller</h4>

<p>Once we have included the package into our source file, then we can simply use the Storyboard Editor to create the instance:</p>

<p><img src="img/Fig-10-Storyboard-Editor.png" alt=""></p>

<p>Or just instantiate it directly:</p>
<pre class="highlight plaintext"><code>self.bigJuJuMap = BigJuJuMapViewController()
self.navigationController?.pushViewController(self.bigJuJuMap, animated: true)
</code></pre>
<h4 id='the-map-data' class='heading'>The Map Data</h4>

<p>Once we have the view controller ready to go, we need to give it its dataset, which is simply an array of data items that conform to <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L1402"><code><a href="Protocols/BigJuJuMapLocationProtocol.html">BigJuJuMapLocationProtocol</a></code></a>. The test harnesses demonstrate this with simple datasets of US national and state parks.</p>

<p>This is demonstrated in the <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Tests/Shared/Sources/BJJM_LocationFactory.swift#L26"><code>BJJM_LocationFactory</code></a> struct, shared between the UIKit and SwiftUI test harness apps.</p>

<p>Simply set the <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L889"><code><a href="Classes/BigJuJuMapViewController.html#/s:05BigJuB3Map0abbC14ViewControllerC7mapDataSayAA0abbC16LocationProtocol_pGvp">BigJuJuMapViewController.mapData</a></code></a> property to the array, and you&rsquo;re good to go. You may also want to set the map&rsquo;s region. The BigJuJuMap package exports some helpers, to make it easy to calculate from the data array.</p>

<p>You can directly access the <a href="https://developer.apple.com/documentation/mapkit/mkmapview"><code>MKMapView</code></a> instance, by referencing the <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L952"><code><a href="Classes/BigJuJuMapViewController.html#/s:05BigJuB3Map0abbC14ViewControllerC03mapD0So05MKMapD0Cvp">BigJuJuMapViewController.mapView</a></code></a> computed property. The view controller&rsquo;s main <a href="https://developer.apple.com/documentation/uikit/uiviewcontroller/view"><code>view</code></a> property is also the mapView, but referenced as a top-level <a href="https://developer.apple.com/documentation/UIKit/UIView">UIView</a>, not <a href="https://developer.apple.com/documentation/mapkit/mkmapview"><code>MKMapView</code></a>.</p>
<h4 id='the-markers' class='heading'>The Markers</h4>

<p>You provide your own custom markers, by giving the <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L81"><code><a href="Classes/BigJuJuMapViewController.html">BigJuJuMapViewController</a></code></a> instance <a href="https://developer.apple.com/documentation/uikit/uiimage/"><code>UIImage</code></a>s. These will be resized, in the map, but they should have a roughly 1:2 aspect ratio. If you will choose to have <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L917"><code><a href="Classes/BigJuJuMapViewController.html#/c:@M@BigJuJuMap@objc(cs)BigJuJuMapViewController(py)displayNumbers">BigJuJuMapViewController.displayNumbers</a></code></a> as true (the default), then the marker images should have a large blank area in the upper portion, that will not obscure labels displayed with the <a href="%5Bhttps://developer.apple.com/documentation/uikit/uicolor/label%5D(https://developer.apple.com/documentation/uikit/uicolor/systembackground)"><code>UIColor.systembackground</code></a> color (inverse label color).</p>

<p>You provide the images by setting the <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L897"><code><a href="Classes/BigJuJuMapViewController.html#/c:@M@BigJuJuMap@objc(cs)BigJuJuMapViewController(py)singleMarkerImage">BigJuJuMapViewController.singleMarkerImage</a></code></a> and <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L907"><code><a href="Classes/BigJuJuMapViewController.html#/c:@M@BigJuJuMap@objc(cs)BigJuJuMapViewController(py)multiMarkerImage">BigJuJuMapViewController.multiMarkerImage</a></code></a> properties. Leaving them as nil, will cause the built-in (upside-down teardrop) marker to be used.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>If you want the same image to be used for both (&ldquo;Custom 1,&rdquo; in the test harness apps), then you need to provide the same image to <strong>BOTH</strong> of the properties.</p>

</div>
<h4 id='additional-settings' class='heading'>Additional Settings</h4>

<p>You can specify a font and color to be used, in data items. If these are present, the text in the popover for that item will be displayed with the color and font provided. Otherwise, the standard button font and color will be used.</p>

<p>You can set <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L917"><code>displayNumbers</code></a> to false, and the numbers for aggregate markers will not display (for example, if you have intricate custom markers, the numbers will interfere).</p>

<p>You can set <a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Sources/BigJuJuMap/BigJuJuMap.swift#L927"><code>stickyPopups</code></a> to true, and the popovers will not dismiss, when an item is selected.</p>
<h2 id='usage-in-swiftui' class='heading'>Usage in SwiftUI</h2>

<p>SwiftUI has a very limited support for MapKit, which was why this package was written. In order to use it in SwiftUI, you need to wrap it in a <a href="https://developer.apple.com/documentation/swiftui/uiviewcontrollerrepresentable/"><code>UIViewControllerRepresentable</code></a> instance. This is demonstrated in the SwiftUI test harness, in the 
<a href="https://github.com/LittleGreenViper/BigJuJuMap/blob/master/Tests/SwiftUITestHarness/BJJM_SwiftUIMainView.swift#L27"><code>BJJM_BigJuJuMapViewController</code></a> struct.</p>
<h2 id='license' class='heading'>License</h2>
<pre class="highlight plaintext"><code>MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</code></pre>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2026 <a class="link" href="" target="_blank" rel="external noopener"></a>. All rights reserved. (Last updated: 2026-02-08)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.15.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
